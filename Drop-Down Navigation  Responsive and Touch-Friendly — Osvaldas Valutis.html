<!DOCTYPE html>

<html lang="en">

<head>

	<title>Drop-Down Navigation: Responsive and Touch-Friendly &mdash; Osvaldas Valutis</title>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta name="description" content="What if you need a multi-level navigation? In most cases, you design a drop-down menu using unordered lists. But what..." />
	<meta name="robots" content="all, noodp, noydir">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="Osvaldas V.">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">

	<meta name="application-name" content="Osvaldas Valutis" />
	<meta name="msapplication-tooltip" content="Osvaldas Valutis" />
	<meta name="msapplication-TileImage" content="http://osvaldas.info/theme/img/meta-mstouch.png" />
	<meta name="msapplication-TileColor" content="#ffffff" />
	<meta name="msapplication-tap-highlight" content="no" />

	<meta property="og:type" content="website" />
	<meta property="og:site_name" content="Osvaldas Valutis" />
	<meta property="og:title" content="Drop-Down Navigation: Responsive and Touch-Friendly" />
	<meta property="og:description" content="What if you need a multi-level navigation? In most cases, you design a drop-down menu using unordered lists. But what..." />
	<meta property="og:url" content="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" />
	<meta property="og:image" content="http://osvaldas.info/incoming/images/posts/blog/thumb_drop-down-navigation-responsive-and-touch-friendly.jpg" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly">
    <meta name="twitter:title" content="Drop-Down Navigation: Responsive and Touch-Friendly">
    <meta name="twitter:description" content="What if you need a multi-level navigation? In most cases, you design a drop-down menu using unordered lists. But what...">
    <meta name="twitter:image:src" content="http://osvaldas.info/incoming/images/posts/blog/thumb_drop-down-navigation-responsive-and-touch-friendly.jpg">
    <meta name="twitter:site" content="@osvaldas">
    <meta name="twitter:creator" content="@osvaldas">

	<link rel="shortcut icon" href="http://osvaldas.info/theme/img/favicon.ico" />
	<link rel="apple-touch-icon-precomposed" href="http://osvaldas.info/theme/img/meta-touch.png" />
	<link rel="image_src" href="http://osvaldas.info/incoming/images/posts/blog/thumb_drop-down-navigation-responsive-and-touch-friendly.jpg" />

	<link rel="shorturl" href="http://osvaldas.info/u/tUhW" />
	<link rel="canonical" href="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" />

    <link rel="alternate" type="application/rss+xml" href="http://osvaldas.info/rss/blog">
	<link rel="publisher" href="https://plus.google.com/107216309002112755043" />

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//apis.google.com">
	<link rel="dns-prefetch" href="//google-analytics.com">
	<link rel="dns-prefetch" href="//www.google-analytics.com">
	<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
	<link rel="dns-prefetch" href="//api.twitter.com" />
	<link rel="dns-prefetch" href="//connect.facebook.net">

	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic|Libre+Baskerville:400,700,400italic|Cabin+Condensed:400,700italic&subset=latin,latin-ext">

	
	<link rel="stylesheet" href="/theme/css/style.css?1401775632" />

	
	<script>var ENVIRONMENT = 'production';</script>
	<script src="/theme/js/before.js?1401775632"></script>

</head>

<body>




<!--
	CONTAINER 
-->

<div id="container">


	<!--
		HEADER 
	-->

	<header id="header" class="content clearfix" role="banner">

		<div id="logo">
			<a href="/"><img src="/theme/img/logo.png" alt="Osvaldas Valutis" /></a>
		</div>

		<nav id="nav" class="content-sided clearfix" role="navigation">
			<ul>
				<li class="active"><a href="/blog">Blog</a></li>
				<li><a href="/shop">Shop</a></li>
				<li><a href="/work">Work</a></li>
				<li><a href="/about">About</a></li>
			<!--<li><a href="/about" data-notify="Available for hire!" data-notify-alt="Hire me!">About</a></li>-->
			</ul>
		</nav>

	</header>


	<!--
		CONTENT 
	-->

	
	<div class="content clearfix" role="main">

		<!-- BLOG POST -->

		<article class="post clearfix">
			<header class="post-header post-header-leading">
				<h1>Drop-Down Navigation: Responsive and Touch-Friendly</h1>
			</header>
			<aside class="post-aside">
				<div class="post-meta post-meta-vertical">
					<ul class="clearfix">
						<li class="meta-date"><time datetime="2013-04-02" pubdate="pubdate"> 2 Apr, 2013</time></li>

						
						<li class="meta-tags"><a href="http://osvaldas.info/mobile" title="Tag">Mobile</a>, <a href="http://osvaldas.info/navigation" title="Tag">Navigation</a>, <a href="http://osvaldas.info/touch" title="Tag">Touch</a>, <a href="http://osvaldas.info/html" title="Tag">HTML</a>, <a href="http://osvaldas.info/responsive" title="Tag">Responsive</a>, <a href="http://osvaldas.info/jquery" title="Tag">jQuery</a>, <a href="http://osvaldas.info/javascript" title="Tag">JavaScript</a>, <a href="http://osvaldas.info/css" title="Tag">CSS</a></li>

						
					</ul>
				</div>
				<div id="ad">
					<script type="text/javascript" src="http://cdn.adpacks.com/adpacks.js?legacyid=1275795&zoneid=1408&key=32290cc676522800c8e2b4d1ac090a4c&serve=C6SIVKV&placement=osvaldasinfo&circle=design" id="_adpacks_js"></script>
				</div>
			</aside>
			<div class="post-content content-sided styled">

				<p>What if you need a multi-level navigation? In most cases, you design a <strong>drop-down</strong> menu using unordered lists. But what do you do to make it usable on small and / or <strong>cursorless</strong> screens? By <em>usable</em> I mean being able to use hyperlinks on parental anchors and open them with a <strong>double-tap</strong> (which is a native act on touch devices), also being able to close the drop-downs by tapping anywhere outside them to avoid flashing and other huge usability faults but having a usual bulletproof drop-down menu on desktop screens at the same time. A while ago I came up with quite a simple technique. I have been successfully implementing it into my projects as there is no room for one-sided techniques anymore.</p>

<p><img alt="Drop-Down Navigation: Responsive and Touch-Friendly" src="/incoming/images/drop-down-navigation-touch-friendly-and-responsive-1.jpg" style="width:100%" /></p>

<h2>The Problem</h2>

<p>...is a drop-down on touch screen because there is no cursor and you cannot hover on the navigation items! It gets even worse if you have links on parent menu items. Once you click them, the drop-down shows up for a second and then immediately disappears because the browser has just opened the link of an anchor you <a href="http://stuffandnonsense.co.uk/blog/about/not-click.-not-tap.-not-select.-press" target="_blank">pressed</a>! That sucks. As well as using <em>hash</em> symbol for parental link <code>href</code>&#39;s: as a consequence, you cannot use normal URLs, the page sometimes may scroll up after the link is clicked, the drop-down may flash, you won&#39;t be able to shut it off, etc. Sorry, that is not a problem anymore &ndash; it is <strong>solved</strong> in this post! Watch my very first video montage to get the idea:</p>

<p><iframe frameborder="0" scrolling="no" src="//player.vimeo.com/video/63104740"></iframe></p>

<p>Audio by <a href="mailto:honeyrec@gmail.com" target="_blank">DJ Betas</a>.</p>

<p>Talking about responsiveness, there is a plenty, plenty of responsive navigation solutions out there. I admit, I have hardly gone deeper into any of these, but still my favorite one is David Bushell&#39;s <a href="http://coding.smashingmagazine.com/2013/01/15/off-canvas-navigation-for-responsive-website/" target="_blank">off-canvas</a> navigation. It is awesome. However, as for my personal projects I fit the usual <em>one-button</em> responsive navigation <a href="http://bradfrostweb.com/blog/web/responsive-nav-patterns/" target="_blank">pattern</a>. The same one goes here as well.</p>

<h2>Composition</h2>

<p>The technique consists of three main parts:</p>

<ol>
	<li>Simple drop-down navigation based on HTML and CSS;</li>
	<li>Responsiveness implementation using media queries;</li>
	<li>Adoption for touch screen devices with the help of a super tiny jQuery plugin.</li>
</ol>

<p>Now about everything in turn&hellip;</p>

<h2>HTML and CSS drop-down navigation</h2>

<p>Firstly, simple markup of multi-leveled unordered lists with a little bit of HTML5 flavor. My example consists of two levels. Two is not the limit, you may have infinite levels on your next super project.</p>

<pre class="brush:xml;">&lt;nav id=&quot;nav&quot; role=&quot;navigation&quot;&gt;
	&lt;a href=&quot;#nav&quot; title=&quot;Show navigation&quot;&gt;Show navigation&lt;/a&gt;
	&lt;a href=&quot;#&quot; title=&quot;Hide navigation&quot;&gt;Hide navigation&lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;
			&lt;a href=&quot;/&quot; aria-haspopup=&quot;true&quot;&gt;Blog&lt;/a&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Design&lt;/a&gt;&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;HTML&lt;/a&gt;&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;CSS&lt;/a&gt;&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;JavaScript&lt;/a&gt;&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;
			&lt;a href=&quot;/&quot; aria-haspopup=&quot;true&quot;&gt;Work&lt;/a&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Web Design&lt;/a&gt;&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Typography&lt;/a&gt;&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;/&quot;&gt;Front-End&lt;/a&gt;&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;/&quot;&gt;About&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/nav&gt;</pre>

<p>Now let&#39;s just give a sense to the HTML above with the CSS below. Presenting only the principle parts of CSS. Full code &ndash; later in the demo.</p>

<p>Do not be surprised by <em>Show / Hide navigation</em> anchors. I am going to hide these for now using <code>#nav &gt; a</code> selector and flick on later in the next step.</p>

<pre class="brush:css;">#nav
{
	/* container */
}
	#nav &gt; a
	{
		display: none;
	}
	#nav li
	{
		position: relative;
	}

	/* first level */

	#nav &gt; ul
	{
		height: 3.75em;
	}
		#nav &gt; ul &gt; li
		{
			width: 25%;
			height: 100%;
			float: left;
		}

	/* second level */

	#nav li ul
	{
		display: none;
		position: absolute;
		top: 100%;
	}
		#nav li:hover ul
		{
			display: block;
		}</pre>

<p>User interface behavior on non-touch screens is based on the result of <code>position: relative</code> and <code>position: absolute</code> manipulation. On touchscreens it still fails at solving <em>the problem</em>, but we will make it right later in the 3<sup>rd</sup> part of the post.</p>

<h2>Responsive drop-down navigation</h2>

<p><img alt="Drop-Down Navigation: Responsive and Touch-Friendly" class="img-onleft" src="/incoming/images/drop-down-navigation-touch-friendly-and-responsive-2.jpg" />Let&#39;s pour some responsiveness in. <strong>640 pixels</strong> is my choice for a major breakpoint at which with the help of a single media query, the navigation shrinks to <strong>a button</strong> (icon). Therefore, the menu can only be called out by pressing the button.</p>

<pre class="brush:css;">@media only screen and ( max-width: 40em ) /* 640 */
{
	#nav
	{
		position: relative;
	}
		#nav &gt; a
		{
		}
		#nav:not( :target ) &gt; a:first-of-type,
		#nav:target &gt; a:last-of-type
		{
			display: block;
		}

	/* first level */

	#nav &gt; ul
	{
		height: auto;
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}
		#nav:target &gt; ul
		{
			display: block;
		}
		#nav &gt; ul &gt; li
		{
			width: 100%;
			float: none;
		}

	/* second level */

	#nav li ul
	{
		position: static;
	}
}</pre>

<p>CSS pseudo selector :target makes it easy to toggle menu as the anchor&#39;s <code>href</code> attribute coincides with CSS ID selector name. Therefore, as you might have understood, the first anchor of <code>#nav &gt; a</code> is responsible for showing and the second for hiding the menu.</p>

<h2>Touch-friendly drop-down navigation</h2>

<p><img alt="Drop-Down Navigation: Responsive and Touch-Friendly" class="img-onleft" src="/incoming/images/drop-down-navigation-touch-friendly-and-responsive-3.jpg" />The most important things go in the end: let&#39;s finally solve the problem described in the very first paragraphs of the post. Here comes the promised super lightweight jQuery plugin which I called <strong><a href="http://osvaldas.info/examples/drop-down-navigation-touch-friendly-and-responsive/doubletaptogo.js" target="_blank">DoubleTapToGo.js</a></strong> and it is only 550 ridiculous bytes in size when <a href="http://osvaldas.info/examples/drop-down-navigation-touch-friendly-and-responsive/doubletaptogo.min.js" target="_blank">minified</a>.</p>

<p>When you tap the parent item for the first time, DoubleTapToGo prevents the browser from opening a new URL but allows that if tapped once again <em>in succession</em>. If there is an intermediate tap(s) between the first one and the second the counter resets. Quite simple principle of operation, isn&#39;t it? It may be hard to believe but this solved all of the flaws I have mentioned before.</p>

<p>Considering the markup above, the plugin should be only applied to the items that are <strong>parents</strong> &ndash; in order to avoid double-tap requirement on <em>drop-down-less</em> items:</p>

<pre class="brush:jscript;">$( &#39;#nav li:has(ul)&#39; ).doubleTapToGo();</pre>

<p>This is it! Complete fulfillment, full code and working example &ndash; all in the demo:</p>

<p><a class="button" href="http://osvaldas.info/examples/drop-down-navigation-touch-friendly-and-responsive/" target="_blank">Demo</a></p>

<p>Be sure to test it on your <strong>smartphone</strong> or <strong>tablet </strong>&ndash; type this into the address bar: <em>osvaldas.info/u/tnav</em></p>

<h2>Final words</h2>

<p>I have ran quite successful tests on both Mac and Windows versions of the latest (April, 2013) Chrome, Safari, Firefox, Opera releases, also IE9+, iOS 6 / 7, Android 2.2 / 4.2 / 4.4, Windows Phone 7 / 7.5, Opera Mobile.</p>

<h2>Changelog</h2>

<ul>
	<li>Windows Phone 7.5 is tricky when it comes to <code>:hover</code>. Append <code>aria-haspopup=&quot;true&quot;</code> to the anchors that have <code>&lt;ul&gt;</code> siblings. <em>(2014-01-29)</em></li>
</ul>
			</div>
			<footer class="post-content content-sided styled" style="position: relative;">
				<div style="display: none;">By <a href="http://osvaldas.info/" rel="author">Osvaldas Valutis</a></div>
				<div id="post-share" class="clearfix">
					<a href="http://twitter.com/intent/tweet?url=http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly&amp;text=Drop-Down Navigation: Responsive and Touch-Friendly&amp;via=osvaldas" target="_blank" rel="nofollow" class="socialite twitter-share" data-text="Drop-Down Navigation: Responsive and Touch-Friendly" data-url="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" data-count="horizontal" data-via="osvaldas" data-related="osvaldas">Tweet</a>
					<a href="https://plus.google.com/share?url=http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" class="socialite googleplus-one" data-size="medium" data-href="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" rel="nofollow" target="_blank">+1</a>
					<a href="http://facebook.com/sharer/sharer.php?u=http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" target="_blank" rel="nofollow" class="socialite facebook-like" data-href="http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly" data-send="false" data-layout="button_count" data-show-faces="false">Like</a>
					<a href="http://twitter.com/osvaldas" class="socialite twitter-follow" target="_blank" rel="me" data-type="follow" data-show-count="true" data-size="large">Follow @osvaldas</a>
				</div>
			</footer>
		</article>

	</div>


	<!--
		ELSEWHERE 
	-->

	<nav id="elsewhere" class="zone">
		<ul class="content clearfix">
			<li id="elsewhere-twitter"><a href="http://twitter.com/osvaldas" target="_blank">Twitter</a></li>
			<li id="elsewhere-dribbble"><a href="http://dribbble.com/osvaldas" target="_blank">Dribbble</a></li>
			<li id="elsewhere-gplus"><a href="https://plus.google.com/107216309002112755043?rel=author" target="_blank">Google+</a></li>
			<li id="elsewhere-flickr"><a href="http://flickr.com/osvaldas" target="_blank">Flickr</a></li>
			<li id="elsewhere-instagram"><a href="http://instagram.com/osvaldas" target="_blank">Instagram</a></li>
		</ul>
	</nav>

</div>



<!--
	FOOTER 
-->

<footer class="content" id="footer" role="contentinfo">

	<div id="copyright">Copyright &copy; 2006-2014 <a href="http://osvaldas.info/" rel="author">Osvaldas Valutis</a>. All rights reserved. <a href="/rss/blog">RSS</a>.</div>

</footer>




<!-- 
	LAST BITS
-->

<div style="display: none;"><a href="http://osvaldas.info">Web designer</a>, <a href="http://osvaldas.info">web design</a>, <a href="http://osvaldas.info">web dizainas</a>, <a href="http://osvaldas.info">web dizaineris</a>, <a href="http://readerrr.com">rss readerrr</a>, <a href="http://preidenta.lt">odontologijos klinika Klaipėdoje</a>, <a href="http://treehouselove.com">tree house</a>, <a href="http://versliukai.lt/interjero-dizaineriai">Versliukai.lt</a>.</div>

<script src="/theme/js/after.js?1401775632"></script>


<script>var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-7572727-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })();</script>




</body>

</html>